<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KÃ¼che - FoodBot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layouts.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/shared.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/kitchen.css') }}">
</head>
<body>
    <div class="header">
        <h1>ğŸ³ KÃ¼che</h1>
        <div class="header-actions">
            <a href="/kitchen/print" target="_blank" class="btn btn-primary">ğŸ–¨ï¸ Drucken</a>
            <a href="/admin" class="btn btn-secondary">ğŸ‘¤ Admin</a>
            <a href="/" class="btn btn-secondary">ğŸ“¡ Touch</a>
        </div>
    </div>
    
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-value" id="total-count">0</div>
                <div class="stat-label">Gesamt</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ½ï¸</div>
                <div class="stat-value" id="menu1-count">0</div>
                <div class="stat-label">MenÃ¼ 1</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ</div>
                <div class="stat-value" id="menu2-count">0</div>
                <div class="stat-label">MenÃ¼ 2</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</div>
                <div class="stat-value" id="guest-count">{{ guest_count }}</div>
                <div class="stat-label">GÃ¤ste</div>
            </div>
        </div>
        
        <div class="menu-section">
            <h2>ğŸ“‹ Heutiges MenÃ¼</h2>
            <div class="menu-display">
                {% if menu %}
                    {% if menu.zwei_menues_aktiv %}
                        <div class="menu-dual">
                            <div class="menu-item">
                                <div class="menu-item-label">MenÃ¼ 1</div>
                                <div class="menu-item-text">{{ menu.menu1_name }}</div>
                            </div>
                            <div class="menu-item">
                                <div class="menu-item-label">MenÃ¼ 2</div>
                                <div class="menu-item-text">{{ menu.menu2_name }}</div>
                            </div>
                        </div>
                    {% else %}
                        <strong>{{ menu.description }}</strong>
                    {% endif %}
                {% else %}
                    <span style="color: #64748b;">Kein MenÃ¼ eingetragen</span>
                {% endif %}
            </div>
            
            <!-- MenÃ¼ bearbeiten -->
            <div class="menu-edit-section">
                <h3>MenÃ¼ eingeben/Ã¤ndern</h3>
                <form method="post" class="menu-form">
                    <label>
                        <input type="checkbox" name="zwei_menues_aktiv" value="1" 
                               {% if menu and menu.zwei_menues_aktiv %}checked{% endif %}>
                        Zwei MenÃ¼s
                    </label>
                    
                    <div id="single-menu-input" style="{% if menu and menu.zwei_menues_aktiv %}display:none{% endif %}">
                        <input type="text" name="menu" placeholder="MenÃ¼ eingeben" 
                               value="{{ menu.description if menu and not menu.zwei_menues_aktiv else '' }}">
                    </div>
                    
                    <div id="dual-menu-inputs" style="{% if not menu or not menu.zwei_menues_aktiv %}display:none{% endif %}">
                        <input type="text" name="menu1" placeholder="MenÃ¼ 1" class="dual-menu-input"
                               value="{{ menu.menu1_name if menu and menu.zwei_menues_aktiv else '' }}">
                        <input type="text" name="menu2" placeholder="MenÃ¼ 2" 
                               value="{{ menu.menu2_name if menu and menu.zwei_menues_aktiv else '' }}">
                    </div>
                    
                    <button type="submit" class="btn btn-primary form-button">ğŸ’¾ Speichern</button>
                </form>
            </div>
        </div>
        
        <div class="users-section">
            <h2>ğŸ‘¥ Angemeldete Personen (<span id="user-count">{{ users|length }}</span>)</h2>
            <div class="users-grid" id="users-list">
                {% for user in users %}
                <div class="user-badge">{{ user.name }}</div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/pages/kitchen.js') }}"></script>
</body>
</html>
